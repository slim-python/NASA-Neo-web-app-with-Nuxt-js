<template>
  <div>
    <div class="h-screen bg-indigo-700">
      <!-- navbar -->
      <NavBar />

      <!-- body -->

      <div class="max-w-sm mx-auto bg-white shadow-xl rounded-lg mt-64 py-4">
        <div class="py-4 px-6">
          <div class="flex justify-center md:justify-end mx-4 -mt-4">
            <svg
              class="h-24 w-24"
              viewBox="0 0 512 512"
            >
              <defs />
              <path
                fill="#ed6337"
                d="M479.69 205.28a18.457 18.457 0 010 26.11L248.68 462.4c-50.32 50.32-132.26 51.89-183.07 2.06a129.41 129.41 0 01-.9-183.71l133.93-133.93 50.76-50.76 60.53-60.53a18.887 18.887 0 1126.71 26.71l-36.2 36.2a18.045 18.045 0 1025.52 25.52L433.39 16.53a18.887 18.887 0 1126.71 26.71L290.35 213a18.045 18.045 0 1025.52 25.52l45.11-45.11a18.887 18.887 0 0126.71 26.71l-88.59 88.59a18.049 18.049 0 1025.53 25.52l128.95-128.95a18.463 18.463 0 0126.11 0z"
              />
              <path
                fill="#c24e38"
                d="M105.61 464.46a129.41 129.41 0 01-.9-183.71l133.93-133.93 50.76-50.76 52.109-52.109a18.876 18.876 0 00-31.579-8.421L249.4 96.06l-50.76 50.76L64.71 280.75a129.41 129.41 0 00.9 183.71c30.077 29.5 71.061 40.979 109.938 35a127.233 127.233 0 01-69.938-35z"
              />
              <path
                fill="#fadf4a"
                d="M243.76 329.89a97.575 97.575 0 011.27 81.79 21.9 21.9 0 10-21.38 30.49A97.29 97.29 0 0163.74 341.59l.07.02a21.008 21.008 0 001.5 1.66 21.888 21.888 0 1019.27-37.04c.88-.97 1.8-1.92 2.74-2.86a97.287 97.287 0 01130.67-6.28l-.13.16a21.245 21.245 0 00-3.28 2.68 20.913 20.913 0 0029.18 29.96z"
              />
              <path
                fill="#dcbe3f"
                d="M245.03 411.68v.01a96.716 96.716 0 01-20.13 29.26c-.41.41-.83.82-1.25 1.22a21.883 21.883 0 1121.38-30.49zM243.76 329.89a20.913 20.913 0 01-29.18-29.96 21.245 21.245 0 013.28-2.68l.13-.16q3.57 2.94 6.91 6.28a97.008 97.008 0 0118.86 26.52zM96.26 312.31a21.888 21.888 0 01-30.95 30.96 21.008 21.008 0 01-1.5-1.66l-.07-.02a96.5 96.5 0 0120.84-35.36 21.8 21.8 0 0111.68 6.08z"
              />
              <circle cx="162.645" cy="375.945" r="14.107" fill="#dcbe3f" />
              <g fill="#284268">
                <path
                  d="M449.333 201.036l-128.949 128.95a12.048 12.048 0 01-17.038-17.038l88.586-88.586a24.887 24.887 0 10-35.195-35.195l-45.109 45.11a12.048 12.048 0 01-17.038-17.038L464.345 47.484a24.887 24.887 0 10-35.2-35.195L321.718 119.722a12.047 12.047 0 11-17.038-17.037l36.208-36.207a24.887 24.887 0 00-35.2-35.195l-60.5 60.5-.034.034-50.754 50.756-.014.015L60.463 276.512a134.759 134.759 0 0095.137 230.41 137.394 137.394 0 0097.327-40.281L483.93 235.633a24.464 24.464 0 10-34.6-34.6zm26.112 26.111L244.438 458.155C196.2 506.4 117.86 507.305 69.812 460.177A123.409 123.409 0 0168.947 285l161.709-161.711 83.521-83.521A12.887 12.887 0 01332.4 57.993L296.2 94.2a24.047 24.047 0 1034 34.007L437.635 20.774A12.887 12.887 0 11455.86 39L286.1 208.754a24.047 24.047 0 0034.008 34.008l45.11-45.11a12.887 12.887 0 1118.225 18.225l-88.586 88.586a24.047 24.047 0 0034.007 34.008l128.949-128.95a12.464 12.464 0 1117.628 17.626z"
                />
                <path
                  d="M230.459 162.46a5.978 5.978 0 004.241-1.76l9.516-9.515a6 6 0 00-8.485-8.486l-9.515 9.516a6 6 0 004.242 10.242zM153.113 239.806a5.98 5.98 0 004.242-1.757l56.707-56.707a6 6 0 10-8.484-8.486l-56.707 56.707a6 6 0 004.242 10.243zM132.55 260.37a6.009 6.009 0 10-4.24-1.76 6.012 6.012 0 004.24 1.76zM268.717 246.357a6 6 0 00-8.485 0l-15.077 15.077a6 6 0 108.485 8.485l15.077-15.077a6 6 0 000-8.485zM230.087 276.5l-.244.243a6 6 0 008.469 8.5l.244-.243a6 6 0 00-8.469-8.5zM287.864 167.248a5.982 5.982 0 004.236-1.748l.169-.168a6 6 0 00-8.473-8.5l-.169.169a6 6 0 004.236 10.248zM197.1 252.016a6 6 0 008.484 0l67.242-67.243a6 6 0 00-8.484-8.485L197.1 243.53a6 6 0 000 8.486zM295.1 362.262l-8.856 8.855a6 6 0 008.485 8.486l8.855-8.856a6 6 0 10-8.484-8.485zM272.067 385.292l-.525.525a6 6 0 108.48 8.49l.526-.525a6 6 0 00-8.481-8.49zM278.771 470.934l-9.116 9.117a6 6 0 008.487 8.485l9.116-9.117a6 6 0 00-8.487-8.485zM387.445 362.262L307.211 442.5a6 6 0 108.484 8.485l80.235-80.234a6 6 0 00-8.485-8.485zM433.617 316.088l-15.305 15.306a6 6 0 008.487 8.485l15.301-15.305a6 6 0 00-8.487-8.486zM201.34 93.581a5.986 5.986 0 004.243-1.757l19.789-19.79a6 6 0 00-8.486-8.485L197.1 83.338a6 6 0 004.243 10.243zM76.236 218.685a5.981 5.981 0 004.243-1.758l94.576-94.575a6 6 0 00-8.485-8.486l-94.576 94.576a6 6 0 004.242 10.243zM36.436 258.485a5.986 5.986 0 004.243-1.757l9.63-9.63a6 6 0 00-8.487-8.486l-9.63 9.631a6 6 0 004.244 10.242zM442.251 92.608l-19.059 19.059a6 6 0 008.485 8.485l19.058-19.058a6 6 0 10-8.484-8.486zM480.854 54.006l-9.543 9.543a6 6 0 108.484 8.485l9.543-9.543a6 6 0 00-8.484-8.485zM156.11 268.877a102.606 102.606 0 00-73.031 30.251c-.759.759-1.5 1.531-2.233 2.31a5.993 5.993 0 00-1.435 1.55A103.282 103.282 0 00227.7 446.6c.081-.074.159-.152.237-.231.4-.391.808-.779 1.208-1.178a102.769 102.769 0 0021.119-30.58 6.094 6.094 0 00.42-.937 103.283 103.283 0 00-94.572-144.8zm-69.5 44.135a15.886 15.886 0 11-15.964 27.008 90.645 90.645 0 0115.962-27.008zM221.5 435.821a15.9 15.9 0 1116.813-24.008 90.845 90.845 0 01-16.813 24.008zm21.73-36.519a27.885 27.885 0 10-31.788 45.434 91.28 91.28 0 01-144.38-92.663 27.891 27.891 0 0033.445-44 28.048 28.048 0 00-5.123-4.049 91.249 91.249 0 01113.28-6.493 26.916 26.916 0 0032.443 41.409 91.837 91.837 0 012.122 60.36zm-24.406-74.034a14.894 14.894 0 01-.824-20.185c.9.828 1.788 1.662 2.656 2.53a90.987 90.987 0 0115.359 20.45 14.937 14.937 0 01-17.192-2.795z"
                />
                <path
                  d="M148.429 361.726a20.106 20.106 0 1028.432 0 19.971 19.971 0 00-28.432 0zm19.948 19.949a8.107 8.107 0 112.374-5.732 8.118 8.118 0 01-2.374 5.732zM144.106 428.673a11.331 11.331 0 0016.025 16.027 11.331 11.331 0 10-16.025-16.023zM99.985 386.327a8.666 8.666 0 100 12.251 8.665 8.665 0 000-12.251zM160.237 319.6a8.634 8.634 0 006.126-2.534 8.672 8.672 0 10-6.127 2.535z"
                />
              </g>
            </svg>
          </div>

          <!-- Astroid name -->

          <h1 class="text-4xl font-semibold text-gray-800 -mt-8 pt-12">
            {{ astroid_name }}
          </h1>

          <!-- astroid property -->

          <div class="flex items-center mt-4 text-gray-700 -ml-2">
            <svg
              class="h-8 w-8 fill-current text-gray-700"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 222 222"
            >
              <defs />
              <path
                d="M111 18.5a92.5 92.5 0 100 185.002A92.5 92.5 0 00111 18.5zm0 166.5A73.999 73.999 0 0158.674 58.674 74 74 0 11111 185zm37-46.25v-18.5H74v18.5L46.25 111 74 83.25v18.5h74v-18.5L175.75 111 148 138.75z"
              />
            </svg>
            <h1 class="px-2 text-lm">Diameter size</h1>
            <h1 class="px-2 text-sm">
              {{ astroid_diameter_min }} - {{ astroid_diameter_max }} km
            </h1>
          </div>

          <div class="flex items-center mt-4 text-gray-700 -ml-2">
            <svg
              class="h-8 w-8 fill-current text-gray-700"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 43 36"
            >
              <defs />
              <path
                d="M25.5 1C15.875 1 8 8.875 8 18.5S15.875 36 25.5 36 43 28.125 43 18.5 35.125 1 25.5 1zm-14 17.5c0-7.7 6.3-14 14-14 3.15 0 6.125 1.05 8.575 2.975l-19.6 19.6A13.792 13.792 0 0111.5 18.5zm14 14c-3.15 0-6.125-1.05-8.575-2.975l19.6-19.6A13.792 13.792 0 0139.5 18.5c0 7.7-6.3 14-14 14z"
              />
              <path
                d="M27.8 9.613l6.701 11.161c.963 1.603.49 3.712-1.057 4.71a3.213 3.213 0 01-1.743.516H18.298C16.477 26 15 24.47 15 22.581c0-.639.173-1.264.498-1.807L22.2 9.613c.962-1.603 2.996-2.094 4.543-1.096.428.276.79.651 1.057 1.096zm-2.22.839a1.074 1.074 0 00-1.514.365L17.365 21.98a1.17 1.17 0 00-.166.602c0 .63.492 1.14 1.1 1.14H31.7c.206 0 .407-.06.581-.172a1.164 1.164 0 00.353-1.57l-6.701-11.163a1.12 1.12 0 00-.352-.365h-.001zM25 22a1 1 0 110-2 1 1 0 010 2zm0-9a1 1 0 011 1v4a1 1 0 01-2 0v-4a1 1 0 011-1z"
              />
            </svg>

            <h1 class="pl-2 text-lm">Not dangerous</h1>
          </div>

          <div
            class="flex items-center mt-4 text-gray-700 -ml-2"
            v-if="isDangerous"
          >
            <svg
              class="h-8 w-8 fill-current text-gray-700"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 35 35"
            >
              <defs />
              <path
                d="M21.583 6.727l9.773 16.277c1.404 2.337.714 5.413-1.542 6.868-.757.49-1.64.752-2.542.753H7.726c-2.656 0-4.81-2.231-4.81-4.986 0-.932.253-1.843.727-2.635l9.774-16.277c1.402-2.337 4.369-3.053 6.625-1.598.624.402 1.152.95 1.541 1.598zm-3.237 1.224a1.571 1.571 0 00-2.208.532l-9.773 16.28a1.706 1.706 0 00-.242.877c0 .92.718 1.663 1.605 1.663H27.27c.3 0 .593-.088.847-.25a1.698 1.698 0 00.515-2.29L18.86 8.482a1.633 1.633 0 00-.513-.532h-.001zM17.5 24.79a1.458 1.458 0 110-2.916 1.458 1.458 0 010 2.917zm0-13.124a1.458 1.458 0 011.458 1.458v5.833a1.458 1.458 0 01-2.916 0v-5.833a1.459 1.459 0 011.458-1.458z"
              />
            </svg>

            <h1 class="pl-2 text-lm">Potentily dangerous</h1>
          </div>

          <div class="flex items-center mt-4 text-gray-700">
            <i class="fas fa-calendar-alt"></i>
            <h1 class="px-2 text-lm">Close approach date</h1>
            <p class="px-2 text-sm">
              {{ close_approach_date }}
            </p>
          </div>
        </div>

        <div class="flex justify-end mt-4 px-8">
          <button
            class="px-2 py-1 bg-orange-600 text-white text-sm font-bold uppercase rounded hover:bg-orange-800 focus:outline-none focus:bg-orange-800"
          >
            <a v-bind:href="astroid_info">know more</a>
          </button>
        </div>
      </div>

      <div class="flex flex justify-center mt-16 -ml-8">
        <a
          href="#"
          class="md:mx-1 px-3 py-2 bg-white text-gray-500 rounded-md cursor-not-allowed"
        >
          previous
        </a>

        <a
          href="#"
          class="mx-1 px-3 py-2 bg-white text-gray-700 hover:bg-indigo-600 hover:text-white rounded-md"
          v-on:click="abc"
        >
          Next
        </a>
      </div>
    </div>
  </div>
</template>


<script>
import axios from "axios";

export default {
  name: "homepage",
  data() {
    return {
      data: null,
      astroid_name: null,
      close_approach_date: null,
      astroid_info: null,
      astroid_diameter_min: null,
      astroid_diameter_max: null,
      isDangerous: null,
      index: 0
    };
  },

  mounted: function() {
    this.nasaApi();
  },

  methods: {
    abc() {
      this.index++;
      this.nasaApi();
    },

    nasaApi() {
      axios
        .get(
          "https://api.nasa.gov/neo/rest/v1/neo/browse?api_key=zin2gt4PC9bVJaFUMzwrs20PSawP0TfgCjId4Ebq"
        )
        .then(response => {
          this.data = response.data.near_earth_objects;
          console.log(this.data[0].name);
          this.astroid_name = this.data[this.index].name;
          this.close_approach_date = this.data[
            this.index
          ].close_approach_data[0].close_approach_date;
          this.astroid_info = this.data[this.index].nasa_jpl_url;
          this.astroid_diameter_min = this.data[
            this.index
          ].estimated_diameter.kilometers.estimated_diameter_min.toFixed(1);
          this.astroid_diameter_max = this.data[
            this.index
          ].estimated_diameter.kilometers.estimated_diameter_max.toFixed(1);
          this.isDangerous = this.data[
            this.index
          ].is_potentially_hazardous_asteroid;
        });
    }
  }
};
</script>